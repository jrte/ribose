Fibonacci = (
	(
		# ~r, ~q, ~p are sequences of 0s preset to empty
		(nil, select[`~q`] paste['0'])
		(
			(
				# fib(n>0): cycle (~r) <- (~q) <- (~p) <- (~p)(~r), (~r) <- empty
				('0', select[`~r`] cut[`~p`] select[`~p`] copy[`~q`] select[`~q`] cut[`~r`])*
			)?
			# (~q) is empty or selected and holds the result, so append nl and print result
			(nl, paste out clear[`~*`] in[`!nil`])
		)?
	)*
	(eos, stop)
);

Fibonacci:save `Fibonacci.dfa`;
Fibonacci:pr `Fibonacci.pr`;
