<!--
 * JRTE is a recursive transduction engine for Java
 * 
 * Copyright (C) 2011,2022 Kim Briggs
 * 
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Lesser General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 * 
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 * 
 * You should have received copies of the GNU General Public License
 * and GNU Lesser Public License along with this program.  See 
 * LICENSE-lgpl-3.0 and LICENSE-gpl-3.0. If not, see 
 * <http://www.gnu.org/licenses/>.
-->

<project name="jrte" default="all-clean" basedir="." xmlns:if="ant:if" xmlns:unless="ant:unless">
	<property name="jrte.version" value="0.0.0"/>
	<property name="jrte.version.revision" value="HEAD"/>
	<property name="java.source.dir" value="src"/>
	<property name="pattern.source.dir" value="test-patterns"/>
	<property name="java.test.dir" value="test"/>
	<property name="jars.dir" value="jars"/>
	<property name="bin.dir" value="bin"/>
	<property name="jars.test.dir" value="${jars.dir}/test"/>
	<property name="build.java" value="build/java"/>
	<property name="build.java.classes" value="${build.java}/classes"/>
	<property name="build.java.test" value="${build.java}/test"/>
	<property name="build.patterns" value="build/patterns"/>
	<property name="build.patterns.automata" value="build/patterns/automata"/>
	<property name="build.test" value="build/patterns/test"/>
	<property name="javadoc.dir" value="build/doc"/>
	<property name="regex.linux.kernel" value="([JFMASOND][a-z]+ [0-9]+ ([0-9]+:)+[0-9]+) ([-.:A-Za-z_0-9]*) kernel: \\[[ ]*[0-9]+\\.[0-9]+\\] (DROPPED|ABORTED|LIMITED) IN=([-.:A-Za-z_0-9]*) OUT=([-.:A-Za-z_0-9]*)( MAC=([-.:A-Za-z_0-9]*))? SRC=([-.:A-Za-z_0-9]*) DST=([-.:A-Za-z_0-9]*).* PROTO=([-.:A-Za-z_0-9]*)(.* SPT=([-.:A-Za-z_0-9]*) DPT=([-.:A-Za-z_0-9]*))?.*\n"/>

	<condition property="archive" value="${user.home}/archive">
		<available type="dir" file="${user.home}/archive"/>
	</condition>

	<path id="java.classpath">
		<pathelement location="${build.java.classes}"/>
	</path>

	<path id="test.classpath">
		<pathelement location="${jars.dir}/${ant.project.name}-${jrte.version.revision}.jar"/>
		<pathelement location="${jars.dir}/${ant.project.name}-${jrte.version.revision}-test.jar"/>
		<pathelement location="${jars.test.dir}/junit-4.8.2.jar"/>
	</path>

	<path id="jrte.classpath">
		<pathelement location="${jars.dir}/${ant.project.name}-${jrte.version.revision}.jar"/>
	</path>

	<target name="clean-java">
		<delete dir="${bin.dir}/com" quiet="true"/>
		<delete dir="${build.java}" quiet="true"/>
		<delete dir="${build.java.test}" quiet="true"/>
		<delete dir="${javadoc.dir}" quiet="true"/>
		<delete dir="${build.test}" quiet="true"/>
		<delete failonerror="false">
		  <fileset dir="${jars.dir}" includes="*.jar"/>
		</delete>
	</target>

	<target name="clean-patterns">
		<delete dir="${build.patterns}" quiet="true"/>
	</target>

	<target name="clean" depends="clean-java,clean-patterns"/>

	<target name="init">
		<tstamp/>
		<echo message="${ant.version}" />
		<echo>java -version</echo>
		<java fork="true" dir ="." classname="com.characterforming.jrte.test.FileRunner" classpathref="test.classpath">
				<jvmarg line="-version"/>
		</java>		
		<echo>lscpu</echo>
		<exec failonerror="false" executable="lscpu" output="/tmp/lscpu.out"/>
		<exec failonerror="false" executable="grep" input="/tmp/lscpu.out">
			<arg line="-v '^\(Vulnerability\|Flags\)'"/>
		</exec>
		<delete failonerror="false" file="/tmp/lscpu.out"/>
		<mkdir dir="${build.java.classes}"/>
		<mkdir dir="${build.java.test}"/>
		<mkdir dir="${build.patterns.automata}"/>
		<mkdir dir="${build.test}"/>
	</target>
	
	<target name="properties" depends="init">
		<echoproperties/>
	</target>
		
	<target name="compile-java" depends="init">
		<javac fork="true" includeantruntime="false" srcdir="${java.source.dir}" destdir="${build.java.classes}" release="11"
			 debug="true" debuglevel="lines,vars,source">
			<classpath refid="java.classpath"/>
			<compilerarg value="-Xlint"/>
		</javac>
	</target>

	<target name="check-package-java">
		<uptodate targetfile="${jars.dir}/${ant.project.name}-${jrte.version.revision}.jar" property="java-packaged">
			<srcfiles dir="${build.java.classes}" includes="**/*.class"/>
		</uptodate>
	</target>

	<target name="package-java" depends="compile-java,check-package-java" unless="${java-packaged}">
		<copy file="LICENSE" todir="${build.java.classes}"/>
		<copy file="LICENSE-gpl-3.0" todir="${build.java.classes}"/>
		<copy file="LICENSE-lgpl-3.0" todir="${build.java.classes}"/>
		<echo file="${build.java.classes}/VERSION" message="${ant.project.name}-${jrte.version.revision}" append="false"/>
		<jar basedir="${build.java.classes}" destfile="${jars.dir}/${ant.project.name}-${jrte.version.revision}.jar"/>
	</target>

	<target name="check-compile-patterns">
		<uptodate targetfile="${build.patterns}/Jrte.gears" property="patterns-compiled">
			<srcfiles dir="test-patterns" includes="**/*.inr"/>
		</uptodate>
	</target>

	<target name="compile-patterns" depends="init,check-compile-patterns" unless="patterns-compiled">
		<concat destfile="${build.patterns.automata}/_all.inr" eol="lf" force="true">
			<fileset dir="${pattern.source.dir}">
				<include name="alpha.inr"/>
			</fileset>
			<fileset dir="${pattern.source.dir}">
				<include name="*.inr"/>
				<exclude name="alpha.inr"/>
				<exclude name="after.inr"/>
			</fileset>
			<fileset dir="${pattern.source.dir}">
				<include name="after.inr"/>
			</fileset>
		</concat>
		<fixcrlf file="${build.patterns.automata}/_all.inr" eol="lf"/>
		<exec failonerror="false" dir="${build.patterns.automata}" executable="${basedir}/etc/ginr/ginr" input="${build.patterns.automata}/_all.inr" outputproperty="ginr.output"/>
		<echo file="${build.patterns.automata}/_all.out">${ginr.output}</echo>
		<exec failonerror="false" dir="${build.patterns.automata}" executable="/usr/bin/grep" outputproperty="ginr.list">
			<arg line="'^I N R\|^Copyright\|^Distributed under GPLv3\|DFA MIN' _all.out"/>
		</exec>
		<echo>${ginr.list}></echo>
		<echo file="${build.patterns.automata}/_all.out">${ginr.output}</echo>
		<exec failonerror="false" dir="${build.patterns.automata}" executable="/usr/bin/grep" outputproperty="ginr.errors">
			<arg line="'^[ ]*\* \* \*\|^[ ]*\*\*\*\|^Error detected at state [0-9]*:\|^Reserved character:\|^Warning:' _all.out"/>
		</exec>
		<condition property="ginr.fail">
			<not><length string="${ginr.errors}" trim="true" length="0"/></not>
		</condition>
		<echo if:set="ginr.fail" message="&#xA;*** Pattern compilation failed, see ${build.patterns.automata}/_all.out&#xA;${ginr.errors}"/>
		<fail if:set="ginr.fail"/>
	</target>

	<target name="check-package-patterns">
		<uptodate targetfile="${build.patterns}/Jrte.gears" property="patterns-packaged">
			<srcfiles dir="${java.source.dir}" includes="**/*.java"/>
			<srcfiles dir="${build.patterns}" includes="**/*.dfa"/>
		</uptodate>
	</target>

	<target name="package-patterns" depends="package-java,compile-patterns,check-package-patterns" unless="patterns-packaged">
		<java resultproperty="gearbox-result" fork="true" dir ="." classname="com.characterforming.jrte.GearboxCompiler" classpathref="jrte.classpath" failonerror="true">
			<jvmarg line="-showversion -ea"/>
			<arg line="--target com.characterforming.jrte.base.BaseTarget ${build.patterns.automata} ${build.patterns}/Jrte.gears"/>
		</java>
<!--
		<condition property="gearbox-fail" else="gearbox-success">
			<isfailure code="${gearbox-result}"/>
		</condition>
		<echo if:set="gearbox-fail" message="fail: gearbox result = ${gearbox-result}"/>
		<echo if:set="gearbox-success" message="success: gearbox result = [${gearbox-result}]"/>
		<delete if:set="gearbox-fail" file="${build.patterns}/Jrte.gears" failonerror="false"/>
		<fail if:set="gearbox-fail"/>
-->
	</target>
	
	 <target name="check-package-test">
		 <uptodate targetfile="${jars.dir}/${ant.project.name}-${jrte.version.revision}-test.jar" property="test-packaged">
			 <srcfiles dir="${build.java.test}" includes="**/*.class"/>
	 	</uptodate>
	</target>

	<target name="compile-test" depends="package-java">
		<javac fork="true" includeantruntime="false" srcdir="${java.test.dir}" destdir="${build.java.test}" release="11"
			debug="true" debuglevel="lines,vars,source">
			<classpath refid="test.classpath"/>
		</javac>
	</target>

	<target name="package-test" depends="package-java,compile-test,check-package-test" unless="test-packaged">
		<jar basedir="${build.java.test}" destfile="${jars.dir}/${ant.project.name}-${jrte.version.revision}-test.jar"/>
	</target>

	<target name="check-package-source">
		 <uptodate targetfile="${jars.dir}/${ant.project.name}-${jrte.version.revision}-source.jar" property="source-packaged">
			 <srcfiles dir="${build.java.classes}" includes="**/*.class"/>
	 	</uptodate>
	</target>

	<target name="package-source" depends="check-package-source,compile-java" unless="source-packaged">
		<jar basedir="${java.source.dir}" destfile="${jars.dir}/${ant.project.name}-${jrte.version.revision}-source.jar"/>
	</target>
	
	<target name="test" depends="package-java,package-test,package-patterns">
		<echo>TestRunner (benchmarking simple fsts driving base transduction effectors):</echo>
		<java fork="true" dir ="." classname="com.characterforming.jrte.test.TestRunner" classpathref="test.classpath" failonerror="true">
				<jvmarg line="-ea -Djrte.out.enabled=false -Dregex.out.enabled=false"/>
				<arg line="${build.patterns}/Jrte.gears 1"/>
		</java>
		<echo>Jrte (benchmarking fsts for extracting data from noisy inputs, vs similar regex, output muted):</echo>
		<exec failonerror="false" dir="test-patterns/inputs" executable="wc">
			<arg line="kern-10.log"/>
		</exec>
		<java fork="true" dir ="." classname="com.characterforming.jrte.test.FileRunner" classpathref="test.classpath" failonerror="true">
			<jvmarg line="-ea -Djrte.out.enabled=false -Dregex.out.enabled=false"/>
			<arg line="--nil LinuxKernelNil test-patterns/inputs/kern-10.log ${build.patterns}/Jrte.gears &quot;${regex.linux.kernel}&quot;"/>
		</java>
		<java fork="true" dir ="." classname="com.characterforming.jrte.test.FileRunner" classpathref="test.classpath" failonerror="true">
			<jvmarg line="-ea -Djrte.out.enabled=false -Dregex.out.enabled=false"/>
			<arg line="--nil LinuxKernel test-patterns/inputs/kern-10.log ${build.patterns}/Jrte.gears &quot;${regex.linux.kernel}&quot;"/>
		</java>
		<java fork="true" dir ="." classname="com.characterforming.jrte.test.FileRunner" classpathref="test.classpath" failonerror="true">
			<jvmarg line="-ea -Djrte.out.enabled=false -Dregex.out.enabled=false"/>
			<arg line="--nil LinuxKernelLoose test-patterns/inputs/kern-10.log ${build.patterns}/Jrte.gears &quot;${regex.linux.kernel}&quot;"/>
		</java>
		<java fork="true" dir ="." classname="com.characterforming.jrte.test.FileRunner" classpathref="test.classpath" failonerror="true">
				<jvmarg line="-ea -Djrte.out.enabled=false -Dregex.out.enabled=false"/>
				<arg line="--nil LinuxKernelStrict test-patterns/inputs/kern-10.log ${build.patterns}/Jrte.gears &quot;${regex.linux.kernel}&quot;"/>
		</java>
		<exec failonerror="false" dir="test-patterns/inputs" executable="wc">
			<arg line="verbosegc.vgc"/>
		</exec>
		<java fork="true" dir ="." classname="com.characterforming.jrte.test.FileRunner" classpathref="test.classpath" failonerror="true">
				<jvmarg line="-ea -Djrte.out.enabled=false -Dregex.out.enabled=false"/>
				<arg line="--nil Tintervals test-patterns/inputs/verbosegc.vgc ${build.patterns}/Jrte.gears cycle-start.id=.*type=.*contextid=.*timestamp=.*intervalms=.([0-9]+'.'[0-9]+)[^0-9]"/>
		</java>
		<java fork="true" dir ="." classname="com.characterforming.jrte.test.FileRunner" classpathref="test.classpath" failonerror="true">
				<jvmarg line="-ea -Djrte.out.enabled=false -Dregex.out.enabled=false"/>
				<arg line="--nil Sintervals test-patterns/inputs/verbosegc.vgc ${build.patterns}/Jrte.gears cycle-start.id=.*type=.*contextid=.*timestamp=.*intervalms=.([0-9]+'.'[0-9]+)[^0-9]"/>
		</java>
		<java fork="true" dir ="." classname="com.characterforming.jrte.test.FileRunner" classpathref="test.classpath" failonerror="true" output="/dev/null">
				<jvmarg line="-ea -Djrte.out.enabled=false -Dregex.out.enabled=false"/>
				<arg line="--nil Tintervals test-patterns/inputs/verbosegc.vgc ${build.patterns}/Jrte.gears cycle-start.id=.*type=.*contextid=.*timestamp=.*intervalms=.([0-9]+'.'[0-9]+)[^0-9]"/>
		</java>
		<java fork="true" dir ="." classname="com.characterforming.jrte.Jrte" classpathref="jrte.classpath" failonerror="true" output="/dev/null">
				<jvmarg line="-ea -Djrte.out.enabled=true"/>
				<arg line="--nil Tintervals test-patterns/inputs/verbosegc.vgc ${build.patterns}/Jrte.gears"/>
		</java>
		<java fork="true" dir ="." classname="com.characterforming.jrte.Jrte" classpathref="jrte.classpath" failonerror="true" output="/dev/null">
				<jvmarg line="-ea -Djrte.out.enabled=true"/>
				<arg line="--nil Sintervals test-patterns/inputs/verbosegc.vgc ${build.patterns}/Jrte.gears"/>
		</java>
		<java fork="true" dir ="." classname="com.characterforming.jrte.Jrte" classpathref="jrte.classpath" failonerror="true" output="/dev/null">
				<jvmarg line="-ea -Djrte.out.enabled=true"/>
				<arg line="--nil Tintervals test-patterns/inputs/verbosegc.vgc ${build.patterns}/Jrte.gears"/>
		</java>
		
		<echo>Jrte (output equivalence tests):</echo>
		<delete quiet="true" file="${build.test}/Tintervals.regex.out"/>
		<delete quiet="true" file="${build.test}/Tintervals.jrte.out"/>
		<delete quiet="true" file="${build.test}/Sintervals.jrte.out"/>
		<java fork="true" dir ="." classname="com.characterforming.jrte.test.FileRunner" classpathref="test.classpath" failonerror="true" output="${build.test}/Tintervals.jrte.out">
				<jvmarg line="-ea -Djrte.out.enabled=true -Dregex.out.enabled=false"/>
				<arg line="--nil Tintervals test-patterns/inputs/verbosegc.vgc ${build.patterns}/Jrte.gears"/>
		</java>
		<exec failonerror="true" executable="/usr/bin/wc">
			<arg line="${build.test}/Tintervals.jrte.out"/>
		</exec>		
		<java fork="true" dir ="." classname="com.characterforming.jrte.test.FileRunner" classpathref="test.classpath" failonerror="true" output="${build.test}/Sintervals.jrte.out">
				<jvmarg line="-ea -Djrte.out.enabled=true -Dregex.out.enabled=false"/>
				<arg line="--nil Sintervals test-patterns/inputs/verbosegc.vgc ${build.patterns}/Jrte.gears"/>
		</java>
		<exec failonerror="true" executable="/usr/bin/wc">
			<arg line="${build.test}/Sintervals.jrte.out"/>
		</exec>	
		<java fork="true" dir ="." classname="com.characterforming.jrte.test.FileRunner" classpathref="test.classpath" failonerror="true" output="${build.test}/Tintervals.regex.out">
				<jvmarg line="-ea -Djrte.out.enabled=false -Dregex.out.enabled=true"/>
				<arg line="--nil Tintervals test-patterns/inputs/verbosegc.vgc ${build.patterns}/Jrte.gears &quot;cycle-start.id=.*type=.*contextid=.*timestamp=.*intervalms=.([0-9]+.[0-9]+)[^0-9]&quot;"/>
		</java>
		<exec failonerror="true" executable="/usr/bin/wc">
			<arg line="${build.test}/Tintervals.regex.out"/>
		</exec>		
		<condition property="intervals.match">
			<and>
				<filesmatch file1="${build.test}/Tintervals.regex.out" file2="${build.test}/Sintervals.jrte.out"/>
				<filesmatch file1="${build.test}/Sintervals.jrte.out" file2="${build.test}/Tintervals.jrte.out"/>
			</and>
		</condition>
		<fail unless="intervals.match">Not equivalent:&#xA;   ${build.test}/Tintervals.jrte.out&#xA;   ${build.test}/Sintervals.jrte.out&#xA;   ${build.test}/Tintervals.regex.out</fail>
		<echo>Equivalent:&#xA;   ${build.test}/Tintervals.jrte.out&#xA;   ${build.test}/Sintervals.jrte.out&#xA;   ${build.test}/Tintervals.regex.out</echo>

		<delete quiet="true" file="${build.test}/LinuxKernel.jrte.out"/>
		<delete quiet="true" file="${build.test}/LinuxKernelLoose.jrte.out"/>
		<delete quiet="true" file="${build.test}/LinuxKernelStrict.jrte.out"/>
		<java fork="true" dir ="." classname="com.characterforming.jrte.Jrte" classpathref="jrte.classpath" failonerror="true" output="${build.test}/LinuxKernel.jrte.out">
				<jvmarg line="-ea -Djrte.out.enabled=true"/>
				<arg line="--nil LinuxKernel test-patterns/inputs/kern-10.log ${build.patterns}/Jrte.gears"/>
		</java>
		<exec failonerror="true" executable="/usr/bin/wc">
			<arg line="${build.test}/LinuxKernel.jrte.out"/>
		</exec>		
		<java fork="true" dir ="." classname="com.characterforming.jrte.Jrte" classpathref="jrte.classpath" failonerror="true" output="${build.test}/LinuxKernelLoose.jrte.out">
				<jvmarg line="-ea -Djrte.out.enabled=true"/>
				<arg line="--nil LinuxKernelLoose test-patterns/inputs/kern-10.log ${build.patterns}/Jrte.gears"/>
		</java>
		<exec failonerror="true" executable="/usr/bin/wc">
			<arg line="${build.test}/LinuxKernelLoose.jrte.out"/>
		</exec>		
		<java fork="true" dir ="." classname="com.characterforming.jrte.Jrte" classpathref="jrte.classpath" failonerror="true" output="${build.test}/LinuxKernelStrict.jrte.out">
				<jvmarg line="-ea -Djrte.out.enabled=true"/>
				<arg line="--nil LinuxKernelStrict test-patterns/inputs/kern-10.log ${build.patterns}/Jrte.gears"/>
		</java>
		<exec failonerror="true" executable="/usr/bin/wc">
			<arg line="${build.test}/LinuxKernelStrict.jrte.out"/>
		</exec>		
		<condition property="kernel.match">
			<and>
				<filesmatch file1="${build.test}/LinuxKernel.jrte.out" file2="${build.test}/LinuxKernelLoose.jrte.out"/>
				<filesmatch file1="${build.test}/LinuxKernelLoose.jrte.out" file2="${build.test}/LinuxKernelStrict.jrte.out"/>
			</and>
		</condition>
		<fail unless="kernel.match">Not equivalent:&#xA;   ${build.test}/LinuxKernel.jrte.out&#xA;   ${build.test}/LinuxKernelLoose.jrte.out&#xA;   ${build.test}/LinuxKernelStrict.jrte.out</fail>
		<echo>Equivalent:&#xA;   ${build.test}/LinuxKernel.jrte.out&#xA;   ${build.test}/LinuxKernelLoose.jrte.out&#xA;   ${build.test}/LinuxKernelStrict.jrte.out</echo>
<!--		
		<echo>Fibonacci:</echo>
		<java fork="true" dir ="." classname="com.characterforming.jrte.Jrte" classpathref="jrte.classpath" failonerror="true">
			<jvmarg line="-ea -Djrte.out.enabled=true"/>
			<arg line="\-\-nil Fibonacci test-patterns/inputs/fib.txt ${build.patterns}/Jrte.gears"/>
		</java>
		<echo>DateExtractor:</echo>
		<java fork="true" dir ="." classname="com.characterforming.jrte.Jrte" classpathref="jrte.classpath" failonerror="true">
			<jvmarg line="-ea -Djrte.out.enabled=true"/>
			<arg line="\-\-nil DateExtractor test-patterns/inputs/dates.txt ${build.patterns}/Jrte.gears"/>
		</java>
-->
	</target>
	
	 <target name="check-package-javadoc">
		 <uptodate targetfile="${jars.dir}/${ant.project.name}-${jrte.version.revision}-javadoc.jar" property="javadoc-packaged">
			 <srcfiles dir="${build.java.classes}" includes="**/*.class"/>
	 	</uptodate>
	</target>

	<target name="javadoc" depends="compile-java,check-package-javadoc" unless="javadoc-packaged">
		<copy todir="build/doc/resources">
			<fileset dir="etc/javadoc/api/resources">
				<include name="*"/>
			</fileset>
			<fileset dir="etc/javadoc">
				<include name="*.png"/>
			</fileset>
		</copy>
		<javadoc windowtitle="The General Idea" nonavbar="false" splitindex="true"
			author="true" destdir="${javadoc.dir}" source="1.6" sourcepath="src" access="protected" version="true"
			nodeprecated="false" nodeprecatedlist="false" noindex="false" notree="false" use="true">
			<doctitle>
				&lt;img src="resources/a-b-gears-white.gif" class="TextWrap"&gt;&lt;center&gt;The General Idea&lt;/center&gt;
			</doctitle>
			<bottom>
				&lt;b&gt;Copyright (c) 2011,2022 Kim T Briggs, Fredericton, NB&lt;/b&gt;
			</bottom>
			<link href="http://download.oracle.com/javase/8/docs/api/"/>
			<package name="com.characterforming.ribose"/>
			<package name="com.characterforming.jrte"/>
			<package name="com.characterforming.jrte.base"/>
			<excludepackage name="com.characterforming.jrte.compile"/>
			<excludepackage name="com.characterforming.jrte.engine"/>
		</javadoc>
		<jar basedir="doc" destfile="${jars.dir}/${ant.project.name}-${jrte.version.revision}-javadoc.jar"/>
	</target>

	<target name="tar-source" depends="clean">
		<delete quiet="true" file="jrte-source.tar.gz"/>
		<tar destfile="jrte-source.tar.gz" compression="gzip">
		<fileset dir=".">
			<include name="src/**"/>
			<include name="test/**"/>
			<include name="test-patterns/**"/>
		</fileset>
		</tar>
	</target>

	<target name="tar-project" depends="clean">
		<delete quiet="true" file="jrte.project.tar.gz"/>
		<tar basedir="." destfile="jrte.project.tar.gz" compression="gzip" defaultexcludes="false" excludes="local,build,*.log*,*.tar.gz"/>
	</target>

	<target name="all-clean" depends="clean,test" description="Full build for java and patterns"/>
	
	<target name="defaultexcludes">
	<defaultexcludes echo="true"/>
	</target>
</project>
